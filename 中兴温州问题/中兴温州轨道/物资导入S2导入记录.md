
### 时间20240802
1 表格15 上传成功
- 合同号G08202000S28060
- 合同名称 温州市域铁路S2线一期工程车站（含区间）风水电及装饰装修工程项目IV标
- 订单号 PO202408020004

2 表格16 上传成功

- 合同号  G08202000S28061
- 合同名称 温州市域铁路S2线一期工程车站（含区间）风水电及装饰装修项目工程V标
- 订单号 : PO202408020005


3 表格17 导入成功

- 合同号  G01202000S28036
- 合同名称 温州市域铁路S2线一期工程变频多联式空调机组设备采购项目
- 订单号 : PO202408050001硕士生


4 表格21 导入成功

- 合同号  G08202100S28067
- 合同名称 S2线一期工程轨道工程施工项目Ⅲ标段工程
- 订单号 : PO202408020007

5 表格18  导入成功

- 合同号  G08202000S28043
- 合同名称 
- 订单号 : PO202408020009

6 表格19  导入成功

- 合同号  G01202000S28025
- 合同名称 温州市域铁路S2线一期工程自动扶梯、电梯设备供货及安装等相关服务采购项目标段一
- 订单号 : PO202408050001


7 表格20 导入成功

- 合同号  G01202000S28029
- 合同名称 温州市域铁路S2线一期工程自动扶梯、电梯设备供货及安装等相关服务采购项目标段二
- 订单号 : PO202408020011

8 表格22.1  导入成功

- 合同号  GO1202100S28072
- 合同名称 温州市域铁路S2线一期工程声屏障供货及安装项目1标
- 订单号 : PO202408050002

9 表格22.2  导入成功

- 合同号  GO1202100S28073
- 合同名称 温州市域铁路S2线一期工程声屏障供货及安装项目2标
- 订单号 : PO202408050003

10 表格22.4 导入成功 

- 合同号  G08202000S28044
- 合同名称 温州市域铁路S2线一期工程声屏障供货及安装项目4标
- 订单号 : PO202408050005

11 表格22.5 导入成功

- 合同号  G01202100S28075
- 合同名称 温州市域铁路S2线一期工程声屏障供货及安装项目5标
- 订单号 : PO202408050006

### 时间20240813



1 表格21 
- 合同号  G08202100S28067
- 合同名称 S2线一期工程轨道工程施工项目Ⅲ标段工程
- 订单号 : PO202408130001



### S1 固定的代码
``` JAVA
package com.cityos.goodsMaterials.functions;  
  
import cn.hutool.http.HttpRequest;  
import cn.hutool.http.HttpResponse;  
import cn.hutool.http.HttpUtil;  
import cn.hutool.json.JSONObject;  
import cn.hutool.json.JSONUtil;  
import lombok.AllArgsConstructor;  
import lombok.Data;  
import org.jetbrains.annotations.NotNull;  
  
import java.util.List;  
import java.util.Objects;  
  
/**  
 * @author : ckd  
 * @date 2024/7/10 14:21  
 */public class BatchAddAcceptanceDetail {  
  
    /**  
     * 域名固定 更改S1的域名  
     */  
    public static String HOST = "http://xfwz.wzmtr.com:8085";  
  
    /**  
     * token 获取AuthToken  
     */    static String token = "843bafffcbd04998b8701eefe3fb45d3";  
  
    /**  
     * 页面上id  
     */    static String acceptanceId = "202408061638";  
    /**  
     * 固定9999  
     */    static String stockRoomNo = "1-1-1";  
    /**  
     * 固定0004  
     */    static String warehouseNo = "001";  
    /**  
     * 固定1  
     */    static String warehouseType = "2";  
    /**  
     * 固定平面库  
     */  
    static String warehouseTypeLabel = "立体库";  
  
    /**  
     * 合同号  
     */  
    static String contractNo = "XF-ZB-S1-JS-14016";  
    /**  
     * 订单号  
     */  
    static String purcOrderId = "PO202408060003";  
  
    public static void main(String[] args) throws Exception {  
  
        // 固定  
        String logicalNo = "XF001";  
        String goodsStatus = "1";  
        String uri = String.format("%s/goodsMaterials-admin/api/tMmArrival/addList?contractNo=%s&logicalNo=%s&purcOrderId=%s&goodsStatus=%s&pageIndex=1&pageSize=10000", HOST, contractNo,  
            logicalNo, purcOrderId, goodsStatus);  
  
        HttpRequest get = HttpUtil.createGet(uri);  
        get.header("Authtoken", token);  
        HttpResponse response = get.execute();  
  
        JSONObject jsonObject = parseRespResult(response);  
        List<ArrivalResponse> list = JSONUtil.toList(String.valueOf(jsonObject.get("data")), ArrivalResponse.class);  
        System.out.println(list);  
  
  
        // 执行新增操作  
        String saveUri = String.format("%s/goodsMaterials-admin/api/tMmAcceptanceDetail/save", HOST);  
        list.stream()  
            .map(resp -> {  
                AddAcceptanceDetailRequest addAcceptanceDetailRequest = new AddAcceptanceDetailRequest(  
                    acceptanceId,  
                    resp.getRecId(),  
                    stockRoomNo,  
                    warehouseNo,  
                    warehouseType,  
                    warehouseTypeLabel  
                );  
                return addAcceptanceDetailRequest;  
            })  
            .forEach(req -> {  
                HttpResponse saveResp = HttpUtil.createPost(saveUri)  
                    .body(JSONUtil.toJsonStr(req))  
                    .header("Authtoken", token)  
                    .execute();  
                JSONObject jsonResp = parseRespResult(saveResp);  
                System.out.println(jsonResp);  
            });  
    }  
  
    @NotNull  
    private static JSONObject parseRespResult(HttpResponse response) {  
        String respStr = response.body();  
        JSONObject jsonObject = JSONUtil.parseObj(respStr);  
        if (!Objects.equals(jsonObject.get("code"), 0)) {  
            throw new RuntimeException("调用错误！原因: " + jsonObject.get("msg"));  
        }  
        return jsonObject;  
    }  
  
    @Data  
    static class ArrivalResponse {  
        private String recId;  
    }  
  
    @Data  
    @AllArgsConstructor    static class AddAcceptanceDetailRequest {  
        private String acceptanceId;  
        private String recId;  
        private String stockRoomNo;  
        private String warehouseNo;  
        private String warehouseType;  
        private String warehouseTypeLabel;  
    }  
  
    static void sleep() {  
        try {  
            Thread.sleep(50);  
        } catch (InterruptedException e) {  
            throw new RuntimeException(e);  
        }  
    }  
}
```







### S2 固定的代码

``` JAVa
package com.cityos.goodsMaterials.functions;  
  
import cn.hutool.http.HttpRequest;  
import cn.hutool.http.HttpResponse;  
import cn.hutool.http.HttpUtil;  
import cn.hutool.json.JSONObject;  
import cn.hutool.json.JSONUtil;  
import lombok.AllArgsConstructor;  
import lombok.Data;  
import org.jetbrains.annotations.NotNull;  
  
import java.util.List;  
import java.util.Objects;  
  
/**  
 * @author : ckd  
 * @date 2024/7/10 14:21  
 */public class BatchAddAcceptanceDetail {  
  
    /**  
     * 域名固定  
     */  
    public static String HOST = "http://wz.wzmtr.com:8085";  
  
    /**  
     * token 获取AuthToken  
     */    static String token = "dc9d170d39f24127b65be0450c07d8e5";  
  
    /**  
     * 页面上id  
     */    static String acceptanceId = "202408131611";  
    /**  
     * 固定9999  
     */    static String stockRoomNo = "9999";  
    /**  
     * 固定0004  
     */    static String warehouseNo = "0004";  
    /**  
     * 固定1  
     */    static String warehouseType = "1";  
    /**  
     * 固定平面库  
     */  
    static String warehouseTypeLabel = "平面库";  
  
    /**  
     * 合同号  
     */  
    static String contractNo = "G08202100S28067";  
    /**  
     * 订单号  
     */  
    static String purcOrderId = "PO202408130001";  
  
    public static void main(String[] args) throws Exception {  
  
        // 固定  
        String logicalNo = "WZB01";  
        String goodsStatus = "1";  
        String uri = String.format("%s/goodsMaterials-admin/api/tMmArrival/addList?contractNo=%s&logicalNo=%s&purcOrderId=%s&goodsStatus=%s&pageIndex=1&pageSize=10000", HOST, contractNo,  
            logicalNo, purcOrderId, goodsStatus);  
  
        HttpRequest get = HttpUtil.createGet(uri);  
        get.header("Authtoken", token);  
        HttpResponse response = get.execute();  
  
        JSONObject jsonObject = parseRespResult(response);  
        List<ArrivalResponse> list = JSONUtil.toList(String.valueOf(jsonObject.get("data")), ArrivalResponse.class);  
        System.out.println(list);  
  
  
        // 执行新增操作  
        String saveUri = String.format("%s/goodsMaterials-admin/api/tMmAcceptanceDetail/save", HOST);  
        list.stream()  
            .map(resp -> {  
                AddAcceptanceDetailRequest addAcceptanceDetailRequest = new AddAcceptanceDetailRequest(  
                    acceptanceId,  
                    resp.getRecId(),  
                    stockRoomNo,  
                    warehouseNo,  
                    warehouseType,  
                    warehouseTypeLabel  
                );  
                return addAcceptanceDetailRequest;  
            })  
            .forEach(req -> {  
                HttpResponse saveResp = HttpUtil.createPost(saveUri)  
                    .body(JSONUtil.toJsonStr(req))  
                    .header("Authtoken", token)  
                    .execute();  
                JSONObject jsonResp = parseRespResult(saveResp);  
                System.out.println(jsonResp);  
            });  
    }  
  
    @NotNull  
    private static JSONObject parseRespResult(HttpResponse response) {  
        String respStr = response.body();  
        JSONObject jsonObject = JSONUtil.parseObj(respStr);  
        if (!Objects.equals(jsonObject.get("code"), 0)) {  
            throw new RuntimeException("调用错误！原因: " + jsonObject.get("msg"));  
        }  
        return jsonObject;  
    }  
  
    @Data  
    static class ArrivalResponse {  
        private String recId;  
    }  
  
    @Data  
    @AllArgsConstructor    static class AddAcceptanceDetailRequest {  
        private String acceptanceId;  
        private String recId;  
        private String stockRoomNo;  
        private String warehouseNo;  
        private String warehouseType;  
        private String warehouseTypeLabel;  
    }  
  
    static void sleep() {  
        try {  
            Thread.sleep(50);  
        } catch (InterruptedException e) {  
            throw new RuntimeException(e);  
        }  
    }  
}
```